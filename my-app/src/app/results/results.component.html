<section>
    <nav>
        <button mat-button 
            (click)="navigateToParams()" 
            aria-label="Back to parameters">
            <mat-icon >chevron_left</mat-icon> 
            Edit inputs
        </button>

        <button class="summary" 
            *ngIf="parameters | async as parameters"
            mat-button 
            (click)="navigateToSummary()" 
            aria-label="Go to summary">
            Go to summary
            <mat-icon >chevron_right</mat-icon> 
        </button>
    </nav>
    
<dl *ngIf="visiblePreferences | async as visiblePreferences">
    <details open>
        <summary>Model input parameters</summary>
        <ng-container *ngFor="let preference of visiblePreferences">
            <dt>{{toFriendlyText(preference.key)}}</dt><dd>{{preference.value}}</dd>
        </ng-container>
    </details>
    
</dl>

<div class="metrics" *ngIf="findMyRetirementService.summary | async as summary">
    <div>
        <span>Expected Outcome</span>
        <span>{{summary.medianOutcome}}</span>
    </div>
    <div>
        <span>Time in Years</span>
        <span>{{summary.time}}</span>
    </div>
    <div>
        <span>Confidence to Target</span>
        <span>{{summary.confidence}}</span>
    </div>
    <div>
        <span>Target Nest Egg</span>
        <span>{{summary.value}}</span>
    </div>
</div>
    <ng-container *ngIf="working | async as working">
        Working
    <app-line-chart 
        [chartData]="working" 
        [gridOptions]="findMyRetirementService.workingGridOptions"></app-line-chart>
    </ng-container>


    <ng-container *ngIf="retirement | async as retirement">
        Retirement
    <app-line-chart [chartData]="retirement" 
        [gridOptions]="findMyRetirementService.retirementGridOptions"></app-line-chart>
    </ng-container>
</section>

